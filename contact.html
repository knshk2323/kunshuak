<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Restaurant Website</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="contact.css">
</head>
<body>
    <header>
        <h1>Contact us</h1>
        <nav class="nav nav-pills nav-justified">
            <a class="nav-link" href="first.html">About restaurant</a>
            <a class="nav-link" href="menu1.html">Menu</a>
            <a class="nav-link" href="second.html">History of restaurant</a>
            <a class="nav-link" href="contact.html">Contact</a>
        </nav>
    </header>
    
    <main class="container">
        <section class="contact-info mb-5">
            <h2 class="mb-3">Address</h2>
            <div class="card" style="width: 18rem;">
                <img src="card.jpg" class="card-img-top" alt="Map">
                <div class="card-body">
                    <h5 class="card-title">Map</h5>
                    <p class="card-text">Click the button below to view the map on 2GIS.</p>
                    <a href="https://2gis.kz/astana/geo/70000001036709805" class="btn btn-primary" target="_blank">View Map</a>
                </div>
            </div>
    
            <h2 class="mt-4 mb-3">Phone and Email</h2>
            <p>Phone: <a href="tel:+77771234567">+7 777 123 4567</a></p>
            <p>Email: <a href="mailto:info@restaurant.com" class="liinks">info@restaurant.com</a></p>
        </section>
        
        <!-- Registration Form -->
    <div class="container form-container" id="signup" style="display:none;">
        <h1 class="form-title text-center">Register</h1>
        <form method="post" action="">
            <div id="signUpMessage" class="alert alert-danger messageDiv" style="display:none;"></div>
            <div class="input-group">
                <i class="fas fa-user icon"></i>
                <input type="text" id="fName" placeholder="First Name" required>
                <label for="fname">First Name</label>
            </div>
            <div class="input-group">
                <i class="fas fa-user icon"></i>
                <input type="text" id="lName" placeholder="Last Name" required>
                <label for="lName">Last Name</label>
            </div>
            <div class="input-group">
                <i class="fas fa-envelope icon"></i>
                <input type="email" id="rEmail" placeholder="Email" required>
                <label for="rEmail">Email</label>
            </div>
            <div class="input-group">
                <i class="fas fa-lock"></i>
                <input type="password" id="rPassword" placeholder="Password" required minlength="8" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                       title="Password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter, and one number">
                <label for="rPassword">Password</label>
            </div>
            
            <button class="btn btn-primary w-100 mt-3" id="submitSignUp">Sign Up</button>
        </form>
        <p class="or text-center mt-3">-------- or --------</p>
        <div class="links text-center">
            <p>Already Have Account?</p>
            <button class="btn btn-link" id="signInButton">Sign In</button>
        </div>
    </div>

    <!-- Login Form -->
    <div class="container form-container" id="signIn">
        <h1 class="form-title text-center">Sign In</h1>
        <form method="post" action="" id="registerForm">
            <div id="signInMessage" class="alert alert-danger messageDiv" style="display:none;"></div>
            <div class="input-group">
                <i class="fas fa-envelope icon"></i>
                <input type="email" id="email" placeholder="Email" required>
                <label for="email">Email</label>
            </div>
            <div class="input-group">
                <i class="fas fa-lock icon"></i>
                <input type="password" id="password" placeholder="Password" required>
                <label for="password">Password</label>
            </div>
        
            <button class="btn btn-primary w-100 mt-3" id="submitSignIn">Sign In</button>
        </form>
        <p class="or text-center mt-3">-------- or --------</p>
        <div class="links text-center">
            <p>Don't have an account yet?</p>
            <button class="btn btn-link" id="signUpButton">Sign Up</button>
        </div>
    </div>
    <br>
    <br>
    <!-- Login Success Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Login Status</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <p>Successful login!</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
        
        <section class="working-hours mb-5">
            <h2 class="mb-3 accordion-title">What are your working hours?</h2>
            <div class="accordion-content collapse">
                <p>Monday - Friday: 06:00 - 00:00</p>
                <p>Saturday - Sunday: 09:00 - 23:00</p>
            </div>
        </section>
        
        <section class="reservation-info mb-5">
            <h2 class="mb-3 accordion-title">How can I make a table reservation?</h2>
            <div class="accordion-content collapse">
                <p>To make a reservation, please call us at +7 777 123 4567 or email <a href="mailto:kiiz@ui.gmail" class="liinks">kiiz@ui.gmail</a></p>
            </div>
        </section>
        
        <br>
        <br>
        <br>
    </main>

    <footer>
        <p>&copy; Asset Kunshuak</p>
        <button id="themeToggle" class="btn btn-primary"></button>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.accordion-title').forEach(function(title) {
            title.addEventListener('click', function() {
                const content = this.nextElementSibling;
            // Toggle visibility of the clicked content
                if (content.style.display === 'block') {
                    content.style.display = 'none'; // Hide content
                }
                else {
                    // Hide other open content
                    document.querySelectorAll('.accordion-content').forEach(function(item) {
                        item.style.display = 'none';
                    });
                    content.style.display = 'block'; // Show the current content
                    }   
            });
            });
            
    });





        // регист және кіру ауыстыру
    document.getElementById('signUpButton').addEventListener('click', function() {
        document.getElementById('signIn').style.display = 'none';
        document.getElementById('signup').style.display = 'block';
    });

    document.getElementById('signInButton').addEventListener('click', function() {
        document.getElementById('signup').style.display = 'none';
        document.getElementById('signIn').style.display = 'block';
    });

    // Регистрация 
    document.getElementById('submitSignUp').addEventListener('click', function(event) {
        event.preventDefault();
        const fName = document.getElementById('fName').value;
        const lName = document.getElementById('lName').value;
        const rEmail = document.getElementById('rEmail').value;
        const rPassword = document.getElementById('rPassword').value;

        // Проверка пароля  требования
        const passwordPattern = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;
        if (!passwordPattern.test(rPassword)) {
            document.getElementById('signUpMessage').style.display = 'block';
            document.getElementById('signUpMessage').innerText = 'Password must be at least 8 characters, contain at least one uppercase letter, one lowercase letter, and one number.';
            return;
        }

        if (localStorage.getItem(rEmail)) {
            document.getElementById('signUpMessage').style.display = 'block';
            document.getElementById('signUpMessage').innerText = 'Email already registered!';
        } else {
            localStorage.setItem(rEmail, JSON.stringify({ fName, lName, email: rEmail, password: rPassword }));
            document.getElementById('signUpMessage').style.display = 'block';
            document.getElementById('signUpMessage').innerText = 'Registration successful! Please log in.';
            document.querySelector('#signup form').reset();  // тазалайды
            document.getElementById('signInButton').click();  // жаңа формаға ауысады
        }
    });

    // Вход 
    document.getElementById('submitSignIn').addEventListener('click', function(event) {
        event.preventDefault();
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        const storedUser = JSON.parse(localStorage.getItem(email));
        
        if (storedUser && storedUser.password === password) {
            const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
            loginModal.show();
            document.getElementById('email').value = '';
        document.getElementById('password').value = '';
        document.getElementById('signInMessage').style.display = 'none';

        // модал өшеді
        setTimeout(() => {
            loginModal.hide();
        }, 2000); 
        } else {
            // Оошибка шығарады
            document.getElementById('signInMessage').style.display = 'block';
            document.getElementById('signInMessage').innerText = 'Invalid email or password!';
        }
    });
    </script>
    <script src="all.js"></script>
</body>
</html>
